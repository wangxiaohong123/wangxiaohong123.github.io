---
title: 面试-linux
tags:
  - 面试专题
categories: 面试专题
copyright: true
---

### 线上进程kill不掉

有的时候kill进程的时候在查看，进程还在，然后状态是zombie，就是僵尸进程，意思是子进程已经释放了资源，但是父进程没确认，这个时候要先执行ps aux查看stat那一列是不是Z，如果是就说明是zombie，那只要用ps -ef | grep 【僵尸进程的id】，找到他的父进程，然后杀掉父进程，再去kill子进程，我就知道这种情况。

### 磁盘空间快满了

正常情况应该是服务日志太多了。

用df -h查看磁盘使用情况，然后删一删；

find / -size +100M | xargs ls -lh，看看有没有没用的100M以上的文件，然后删一删；

du -h >fs_du.log查看各目录占用磁盘大小，然后删一删；

不行的话直接把日志备份到本地，然后删掉服务器上的，可以使用crontab定时删除七天以上的日志；

### CPU100%

1、使用top -c查看CPU使用情况

2、使用top -Hp 【进程id】查看进程中线程使用CPU情况

3、使用jstack查看对应的堆栈信息

