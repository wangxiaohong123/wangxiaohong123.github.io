---
title: 5.压测
tags:
  - cloud-alibaba
categories: 订单demo
copyright: true
---

首先去[Apache官网](https://jmeter.apache.org/download_jmeter.cgi)下载最新版jMeter，Mac下载tgz，windows下载zip然后解压。

进入bin目录双击ApacheJMeter.jar运行。

##### 解决中文乱码

编辑bin目录下的jmeter.properties文件，设置属性：

```properties
sampleresult.default.encoding=UTF-8
```

##### 创建测试请求

1.   在测试计划下创建线程组

     ![](https://tva1.sinaimg.cn/large/008i3skNly1gy415y7ibkj30xe0iaq4u.jpg)

2.   在线程组下添加http请求

     ![](https://tva1.sinaimg.cn/large/008i3skNly1gy417r29tkj310c0mkgp0.jpg)

3.   填写请求信息

     ![image-20220106163135849](/Users/xiaohong/Library/Application Support/typora-user-images/image-20220106163135849.png)

     根据需要配置Content-Type属性，我们接口基本上都是application/json的：![](https://tva1.sinaimg.cn/large/008i3skNly1gy41hw91b9j318g0o40we.jpg)

4.   在线程组下添加“查看结果树”，⽤于查看运⾏结果：

     ![](https://tva1.sinaimg.cn/large/008i3skNly1gy41ktbxckj30z80hygnx.jpg)运行脚本，点击结果树可以查看到结果。

5.   添加断言判断接口结果，这里添加json断言

     ![](https://tva1.sinaimg.cn/large/008i3skNly1gy41sj1snzj30u609uta3.jpg)

     ![](https://tva1.sinaimg.cn/large/008i3skNly1gy41whabobj313m0kemz5.jpg)

##### 创建多个请求

多个请求直接在线程组下添加多个http就可以，但是如果存在请求需要用到上一个接口的数据，需要添加json提取器，拿到接口的返回值

![](https://tva1.sinaimg.cn/large/008i3skNly1gy422esv8xj30xc0cuq4w.jpg)

![](https://tva1.sinaimg.cn/large/008i3skNly1gy426n2vtdj31kq0gewgo.jpg)

match no表示匹配第几个，-1表示全部匹配，0表示随机。

##### 压测

在线程组下添加汇总报告和聚合报告：

![](https://tva1.sinaimg.cn/large/008i3skNly1gy42gvb8m3j315y0k677i.jpg)

然后配置线程数，启动：
![](https://tva1.sinaimg.cn/large/008i3skNly1gy42iz54dvj31iu0pcmzg.jpg)

