---
title: 配置修改
tags:
  - RocketMQ
categories: 中间件
copyright: true
---

#### linux参数调整

```shell
# 修改vm.overcommit_memory=1，避免中间件申请内存时候报错
echo 'vm.overcommit_memory=1' >> /etc/sysctl.conf 
# 这个参数会影响开启线程的数量，默认是65535
echo 'vm.max_map_count=65536' >> /etc/sysctl.conf
# 在centos磁盘上有一块区域叫swap，用来存放不活跃进程的数据，让该进程进入睡眠状态，最大值是100：最大限度让进程睡眠
echo 'vm.swappiness=10' >> /etc/sysctl.conf
# linux上的最大文件连接数，如果并发量很高可能会报‘error: too many open files’，需要提高连接数
echo 'ulimit -n 100000' >> /etc/profile
```

#### 根据需要调整RocketMQ的jvm参数

#### 配置文件参数调整

```shell
# 发送消息的线程池的线程数量，可以根据CPU核数调整
sendMessageThreadPoolNums=16
```

