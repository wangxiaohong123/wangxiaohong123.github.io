---
title: linux-1.简介
tags:
  - linux
categories: 基础
copyright: true
---

##### 常见CPU架构

精简指令集(RISC)：这种CPU中的每个指令的运行时间都很短，指令集比较精简，如果要执行复杂的指令需要多个指令组合，常见的有：

*   甲骨文(Oracle)的SPARC系列，用在学术领域的大型工作站，有的银行的主服务器。
*   IBM公司的Power Architectrue(包括PowerPC)系列，索尼的PS3系列最早用的就是这个，现在不知道了，06年之前Mac也是用的这个CPU，06年到20年Mac使用的是Intel的x86架构CPU。
*   ARM的CPU，一些手机、导航、路由器很多使用的都是这个，应该是目前使用最广泛的。

复杂指令集(CICS)：他的指令多而且复杂，每个指令都可以执行一些低级的硬件操作，常见的有AMD、Intel、VIA等x86架构的CPU。因为现在的电脑除了AMD就是Intel，所以也被成为x86架构电脑。

x86架构：Intel最早研发的CPU叫8086，后来又是80286、80386，所以这中架构就被成为x86，最开始也是从8位一直到升到32位，后来AMD在这个架构的基础上改成了64位，64位的电脑CPU改成了x86-64。这里的8、16、32、64是指bit，是CPU一次读取的数据的最大量，32就是每次读取32位，转成内存就是1G，64位就超级大了。

##### UNIX系统的历史

在1969年之前计算机只有科学、军事这些领域才能用，并且非常慢，操作方式也是读卡机+打印机，程序员把信息在读卡纸上打洞，然后然后计算机把结果输出到打印机。在6几年的时候麻省理工(MIT)开发了**兼容分时系统**，这个系统就是提供多个终端共同使用一个主机，其实就是CPU在终端之间切换，可以说是近代操作系统的鼻祖了，但是这样有个问题就是终端没有计算能力，而且最多只支持30个终端。

1965年贝尔实验室(Bell)+麻省理工+通用电气公司(GE)发起了Multics计划，目的是让主机支持300个以上的终端联机使用，到了69年资金紧张，Bell也退出了，但是最后Multics计划成功了，不过没被重视。汤普森是Multics计划的一员，最开始他是想把太空旅游的游戏移植到EDC公司推出的PDP-7主机上，因为这个主机没人用，他花了4个星期用汇编语言写了一个内核程序，其实就是把Multics各种简化，所以最开始被叫做Unics，后来因为这个系统太好用了，贝尔实验室都在用，不过他有个缺点，就是安装到不同的机器都需要重写，然后汤普森和李奇用B语言重写，但是性能不好，李奇又用C语言重写了，命名UNIX。

C语言写的版本到现在还在使用，真的牛逼，谁能想到UNIX的诞生是因为一个游戏，如果想做的现实中还没有，自己动手搞一个来玩。

UNIX虽然没有版权问题，没加公司都可以二开自己的UNIX，但是只能支持自己的硬件，后来79年的时候AT&T(Bell实验室的母公司)退出的system v第七版开始支持x86架构，同时也提出不能对学生提供源代码，因为他想把版权收回去，直到现在为止纯种的UNIX也是指System V+BSD(UNIX的一个分支)。86年的时候有一个大学教授自己写了一个Minix，删减版的UNIX，写的时候没有参照UNIX，但是还兼容UNIX上的软件，他当时是为了教学，并且没有时间完善，所以这个系统没有迭代，但是当时确实很好用。

##### GNU计划

斯托曼在1984年发起GNU计划，当时的黑客是指计算机能力很强的人，不是破坏计算机的骇客。当时黑客都喜欢分享，互相学习代码，当时UNIX已经是专利软件了，但是架构还是开放的。斯托曼最开始就要写个开放的系统，但是太复杂，他自己写不完，所以开始抄UNIX上的付费软件，他写的就是完全免费，后来大家发现功能都差不多，但是GNU的软件全免费，用的人就多了，出名的有c语言编译器GNU C Compiler(gcc)、很多C语言函数库、可以运行操作系统基本接口的eBash Shell。

gcc是斯托曼成立的自由软件基金会(FSF)，请了很多志愿者工程师一起开发的。为了避免GNU的软件被别人变成专利软件，1985年他找律师草拟了通用公共许可证(GPL)，也被成为copyleft，对应专利软件的copyright。GNU其实开发出来一个内核叫hurd。

GNU这个名称的解释非常有意思，就是GNU is not UNIX，那GNU是什么呢？就是GNU is not UNIX，无穷递归。

GPL说得是开放源码，进制修改授权，进制销售，但是室友商业空间的，目前大部分的Linux开发商都是卖售后服务的。GPL只是开源授权的一种，可以参考[OSI协会](https://opensource.org/licenses)的介绍。

##### LInux的发展

Linux的诞生也是作者托瓦兹为了玩写的，他在上学的时候抢不到机器，然后就买了一台intel 386机器，装上了Minix系统，当时学校的计算机属于工作站类型了，是可以进行多任务的，个人计算机就不行，就现在来讲，如果在一个CPU上同时打开多个程序也要比先打开一个在打开另一个要慢，因为来回切换任务需要消耗资源。所以托瓦兹参考Minix源码写了一个小内核，实现了286机器上的多任务处理，然后放到一个FTP网站上开源，网站的管理员把目录起名为Linux(Linus UNIX的意思)，第一个版本的Linux就诞生了，第一个内核版本起名0.0.2，不是0.0.1。

为了能兼容UNIX系统，托瓦兹有参照POSIX规范(可移植操作系统规范，由美国电器与电子工程协会IEEE发布)改写，他的思想和Minix完全相反，如果当时Minix和hurb能满足托瓦兹，说不定就不会有Linux了。

最开始Linux的问题托瓦兹还能维护一下，后来问题越来越多，而且他也没钱，比如出现某个硬件不适配，他又没有这个硬件就解决不了，这个时候就会有志愿者跳出来说这个硬件我有，我来改写，然后托瓦兹简单测试一下就合到了内核代码中，思想就是现有且能运行，然后在优化，功能多了之后就开始模块化，大概意思就是分驱动，在后来测试也测不过来了，就有志愿者出来测试，然后把结果发给托瓦兹。Linux的官网：https://kernel.org/

这种开发模式让Linux的发展非常快，1994年正式版1.0就出来了，1996年2.0，2011年3.0,2015年4.0。在2.0版本的时候把企鹅作为Linux的吉祥物，因为托瓦兹小时候被企鹅咬过一口。

Linux的出现让GNU彻底放心了，他们可以不运行在UNIX上了，因为Linux是GNU GPL授权模式，又参考了POSIX规范，斯托曼认为应该叫GNU/Linux。

##### 版本

###### 内核版本

内核版本类似于下面这样：

3.10.0-957.21.3.el7.x86_64 ==> 主版本.次版本.发布版-修改版本，例子里主版本就是3，次版本是10，发布版本0，修改版本957。

在3.0版本之前，主版本和次版本都是偶数叫稳定版，不会改变内核架构，只会在这个基础上修复问题。相反就是开发版，一般会增加内核级代码。在3版本只后没有开发版和稳定版这说了，每一个版本都叫主线版本(mainLine)，一般的主线版本开发结束之后就不在维护了，一般2到3个月推出一个主线版本，有一些版本是在长期维护的，这种版本叫长期维护版本(Longterm)，[官网](https://kernel.org/category/releases.html)给出的长期维护版本有4.9、4.14、4.19、5.4、5.10、5.15。

使用uname -a查看系统信息

```shell
# 节点名称 iZ2ze7bb75hzl5dpgd13uhZ
# 发行版本 3.10.0-957.21.3.el7.x86_64
# 内核版本 1 SMP Tue Jun 18 16:35:19 UTC 2019
# 系统CPU体系结构 x86_64
Linux iZ2ze7bb75hzl5dpgd13uhZ 3.10.0-957.21.3.el7.x86_64 #1 SMP Tue Jun 18 16:35:19 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
```

###### 发行版本

为了让用户能够使用Linux，很多非盈利团队或者商业公司把内核和一些软件打包到一起，可以使用网络或者光盘安装的程序叫做发行版(Distribution)，各大开发商的发行版其实差异性不大，因为内核相同，软件也都是当下主流的，而且他们还需要遵守LSB标准和目录结构标准(FHS)。

发行版按照安装软件方式可以分成两种：一种是rpm安装，比如红冒，另一种是dpkg安装，比如Ubuntu。

为了让中国人学习Linux更容易，台湾的谁发起了CLE计划，开发了很多中文软件，也翻译很多文档，还有一个台湾的卧龙小三发起的自由软件计划，网站:[https://b2d-linux.com/]

##### FAQ处理

*   Linux自己的文件数据：/usr/share/doc；TLDP[https://tldp.org/]，TLDP上列出了所有Linux上相关的文献。
*   酷学园讨论区：[http://phorum.study-area.org/]
*   鸟哥的私房菜馆讨论区：[https://phorum.vbird.org/]

