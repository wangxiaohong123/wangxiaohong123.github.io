---
title: Vector和stack
tags:
  - java源码
  - 集合
categories: 基础
copyright: true
---

Vector也是基于数组来实现的。Stack继承了Vector。

push操作就是往数组中添加元素

```java
public synchronized void addElement(E obj) {
    modCount++;
    // 扩容相关，调用的是Vector的方法
    ensureCapacityHelper(elementCount + 1);
    // 添加元素
    elementData[elementCount++] = obj;
}
```

pop()

```java
public synchronized E pop() {
    E       obj;
    // 获取数组长度
    int     len = size();
	// peek就是获取最后一个元素
    obj = peek();
    // 删除最后一个元素
    removeElementAt(len - 1);

    return obj;
}

public synchronized E peek() {
    int     len = size();

    if (len == 0)
        throw new EmptyStackException();
    return elementAt(len - 1);
}
```

