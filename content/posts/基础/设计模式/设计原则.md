---
title: 设计模式-设计原则
tags:
  - 设计模式
categories: 基础
copyright: true
---

### SOLID原则

* 单一职责原则（SRP）：不要设计大而全的类，要设计粒度小、功能单一的类；具体是否是单一需要根据具体的业务来定，比如用户信息和登录信息，当只有一个平台需要使用登录名密码时，可以和用户信息放到一起，如果多个平台使用同一个账号，最好是把登陆信息抽取出来，但是如果粒度分的很细又会降低内聚性。在类命名时，能够取出体现其职责的名字即可；
* 开闭原则（OCP）：模块、类、方法应该对扩展开放，对修改关闭。当添加或者修改功能的时候不可能做到完全的对修改关闭，只要做到修改最少、最外层，让核心、复杂的代码满足开闭原则；
* 里氏替换原则（LSP）：子类重写父类方法时，要保证父类方法对输入、输出和异常的约定。比如父类方法要求输入整数，子类方法要求输入正整数，是不对的；父类方法结果为空时返回空集合而子类方法结果为空时返回null也是不对的；子类方法和父类方法抛出的异常不完全相同也是不对的。
* 接口隔离原则（ISP）
* 依赖反转原则（DIP）：高层模块（调用者）不应该依赖底层模块（被调用者），应该通过抽象互相依赖，一般用于框架的设计

**控制反转**：一种设计思想，控制说的是对程序流程的控制，反转说的是控制权由程序员转到框架；

**依赖注入**：一种编码技巧，类中依赖的对象通过构造方法传入而不是在类中自己实例化；

### KISS原则

尽量保持代码简单，不要写出同事看不懂的代码，比如复杂的正则表达式、位运算；不要重复造轮子，尽量使用现有工具类，比如开源类库CollectionUtils；不是代码行数越少越简单；业务复杂导致的代码复杂并不违反KISS原则；

### YAGNI原则

不能过度设计，以后可能会用到的代码或者插件只需要留好扩展点，不能编写或者引入jar包，也叫不要过度设计；

### 迪米特法则

不该有直接依赖关系的类之间，不要有依赖；有依赖关系的类之间，尽量只依赖必要的接口。每个类越独立越好，比如单一职责原则，高内聚；每个类都应该少接触系统的其他部分，这样在修改其他部分时，这个类的变化也会更少，低耦合。

