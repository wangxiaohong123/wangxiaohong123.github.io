---
title: 创建型-工厂方法
tags:
  - 设计模式
categories: 基础
copyright: true
---

简单工厂的优点是工厂类中包含了必要的逻辑判断，根据条件动态实例化相关的类，对于客户端来说没有具体类的依赖。工厂方法和简单工厂的区别是工厂方法将类的实例化操作放在子类或者实现类中，而且对于简单工厂来说，说过添加子类需要增加工厂方法中的分支，这也违背了对扩展开放，对修改关闭原则，而且当一个类的创建过程有点复杂，创建这个类会产生大量的重复代码的时候可以提取到工厂方法中创建：

```java
/**
 * 工厂方法抽象类
 * 当创建类有公用的代码段时可以使用抽象类实现
 *
 * @author xiaohong
 */
public abstract class FactoryMethod {

    /**
     * 创建类实例
     * @return
     */
    public abstract MainTestClass getMainTestClass();
}
```

```java
/**
 * 工厂方法的一个子类
 * @author xiaohong 
 */
public class TestClass01FactoryMethod extends FactoryMethod {
    @Override
    public MainTestClass getMainTestClass() {
        return new TestClass01();
    }
}
```

测试：

```java
public static void main(String[] args) {
    FactoryMethod fm = new TestClass01FactoryMethod();
    MainTestClass mainTestClass = fm.getMainTestClass();
    mainTestClass.test();
}
```

Java中collection和下面的实现类就是使用的工厂方法，比如List<String> list = new ArrayList<>();其实工厂方法就是把简单工厂的逻辑判断交给了调用方，如果不想要调用方处理就要使用反射。