---
title: 结构型-桥接模式
tags:
  - 设计模式
categories: 基础
copyright: true
---

在面向对象的设计中有一个非常重要的原则，合成/聚合复用原则，就是优先使用对象合成或者聚合，尽量不要使用继承。因为继承关系在编译时就确定好了，子类和父类有非常紧密的联系，以至于父类实现中有任何改变必然会导致子类发生变化，这种依赖关系限制了灵活性和复用性。

合成(组合)和聚合都是一种特殊的关联关系，组合是强拥有，聚合时弱拥有。桥接模式就是将抽象部分和他的实现分离，使他们可以独立的变化。这里的抽象实现不是说抽象类的子类，而是用来实现抽象类的对象。在通俗点就是系统可能有多个角度的分类，每一种分类都可能有变化，就把多个角度抽离，让他们各自独立，比如手机品牌是抽象，手机软件是手机的实现，手机和软件就是聚合的关系。

![桥接模式](https://raw.githubusercontent.com/wangxiaohong123/p-bed/main/uPic/桥接模式.png)

```java
/**
 * 实现
 */
public abstract class Implementor {
    public abstract void operationImpl();
}

public class ConcreteImplementorA extends Implementor {
    @Override
    public void operationImpl() {
        System.out.println("具体实现A的方法执行");
    }
}

public class ConcreteImplementorB extends Implementor {
    @Override
    public void operationImpl() {
        System.out.println("具体实现B的方法执行");
    }
}

public class Abstraction {
    protected Implementor implementor;
    
    public void setImplementor(Implementor implementor) {
        this.implementor = implementor;
    }
    
    public void operation() {
        implementor.operationImpl();
    }
}

public class RefinedAbstraction extends Abstraction {
    @Override
    public void operation() {
        implementor.operationImpl();
    }
}

public static void main(String[] args) {
    Abstraction ab = new RefinedAbstraction();
    ab.setImplementor(new ConcreteImplementorA());
    ab.operation();
    
    ab.setImplementor(new ConcreteImplementorB());
    ab.operation();
}
```

