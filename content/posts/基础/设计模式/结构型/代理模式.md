---
title: 结构型-代理模式
tags:
  - 设计模式
categories: 基础
copyright: true
---

类图：![代理模式](https://raw.githubusercontent.com/wangxiaohong123/p-bed/main/uPic/代理模式.png)

场景：

代理模式就是在访问对象时引入的间接性，因为这种间接性，可以附加很多用途。

1.  增强方法，比如日志；
2.  mybatis或者hibernate的一对多关系实体中get关联的实体集合时会使用代理模式去数据库中查；
3.  http接口和rpc接口是被代理类代理的，我们直接调用接口就可以了；

```java
public abstract class Subject {
    public abstract void request();
}

public class RealSubject extends Subject {
    @Override
    public void request() {
        System.out.println("真实的请求");
    }
}

public class Proxy extends Subject {

    private Subject subject;

    public Proxy(Subject subject) {
        this.subject = subject;
    }

    @Override
    public void request() {
        System.out.println("代理的请求");
        subject.request();
    }
}

public statis void main(string[] args) {
    Proxy proxy = new Proxy(new RealSubject());
    proxy.request();
}
```

