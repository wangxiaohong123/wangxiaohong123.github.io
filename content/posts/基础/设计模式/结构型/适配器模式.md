---
title: 结构型-适配器模式
tags:
  - 设计模式
categories: 基础
copyright: true
---

adapter模式是将一个接口转换成客户端希望的另外一个接口，使原来由于接口不兼容而不能一起工作的哪那些类可以一起工作。比如项目版本升级之后还想继续使用部分老本的接口，这两个接口可能规范和风格不一样。adapter概念源于电工学，最开始各个国家的民用电压不同，有的110v，有的220v，但是一些电器不是什么电压都能用的，比如笔记本，所以电源适配器就出来了。

adapter模式分为类适配器和对象适配器，类适配器主要是通过多继承，但是java不支持多继承，所以平时用的都是对象适配器模式：

![适配器模式](https://raw.githubusercontent.com/wangxiaohong123/p-bed/main/uPic/适配器模式.png)

```java
/**
 * 客户端期待的接口
 */
public class  Target {
    public void request() {
        // 普通请求
    }
}

/**
 * 需要被适配的接口
 */
public class Adaptee {
    public void specificRequest() {
		// 特殊请求
    }
}

/**
 * 新版本接口
 */
public class Adapter extends Target {
    
    private Adaptee adaptee;
    
    public void request() {
        // 把调用request的方法改成实际调用specificRequest
        adaptee.specificRequest();
    }
}

/**
 * 客户端代码
 */
public static void main(String[] args) {
    Target target = new Adapter();
    target.request();
}
```

一般就是controller层分为面向app、面向h5、面向web的，通过适配调用同一个应用服务。其他情况最好是优先考虑重构接口，统一风格，避免问题扩大，不到万不得已不用adapter。