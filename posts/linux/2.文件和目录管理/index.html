<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>linux-2.文件和目录管理 | 王小红的笔记</title><meta name=keywords content="linux"><meta name=description content="用户和用户组
Linux是多人多任务系统，可能同时有多人使用服务器，考虑每个人的隐私权限和每个人喜好的工作环境，这样每个用户都可以把自己的文件权限设置成自己可见，就保证了隐私。用户组主要是为了团队协同工作，这样既能保证每个人的隐私，又能实现多人共同维护服务。
用户组就相当于一个家庭，谁都可以在客厅玩、吃饭、看书，用户相当于每个人自己的卧室，需要得到本人的允许才能进入，others就是陌生人，连进到客厅都需要得要允许。
root用户就是天神，所有文件对于他来说都没有权限。
所有的账号信息都在**/etc/passwd文件里，个人的密码在/etc/shadow文件里，所有的组名在/etc/group**文件里。
文件权限
执行ls -al查看文件权限，他的缩写是ll，执行之后可以得到类似下面的内容：


1
2


-rw-r--r--   1    root root   1879158   4月28 17:17 test.sql
#   权限	   连接  用户  用户组  文件大小     修改日期     文件名


ls是list的意思。链接就是有多少文件名链接到了这个节点(inode)。文件大小的默认单位是byte。如果文件名前面多个[.]表示隐藏文件。
ls的更多更多用法使用ls &ndash;help或者man ls或者info ls查看。
文件类型

常规文件：[-]表示常规文件，按照文件内容可以分成3类：

纯文本文件，纯文本文件的内容我们可以直接看到，比如数字、字母。
二进制文件，linux中可以执行的文件就是二进制文件，不包括脚本，比如他一些命令，就是一个为进制文件。
数据文件，有些程序在运行的时候会读取某些特定格式的文件，比如在用户登录的时候会记录登录数据在/var/log/wtpm里，如果使用cat查看就是乱码，可以使用last命令查看。


目录：就是文件夹。
链接文件：类似windows的快捷方式，
设备和设备文件：和系统周边及存储相关的文件，一般都在/dev下，通常可以分成两类：

区块设备，提供系统随机读写的接口设备，比如硬盘。
字符设备，一些串行端口的接口设备，鼠标键盘这种，这些设备的特点就是一次性读取，不能断，比如说可以让鼠标移动到一个位置，但是不能让鼠标跳到一个位置。


数据接口文件：一般是网络上的数据交换，在/run或者/tmp目录里。
数据输送文件(FIFO,pipe)：他是为了解决多个程序同时写一个文件的问题，FIFO全称是first-in-first-out，就是管道。

可以使用man fifo和man socket查看数据输送文件和数据接口文件的说明。
权限说明
权限栏一共有10个字符，第一个字符表示这个文件是目录、文件还是链接，如果是[d]就表示目录，如果是[-]就表示文件；如果是[l]就表示链接文件；如果是[b]就表示可以存储的周边设备；如果是[c]就表示串行端口设备；[s]表示数据接口文件；[p]表示数据传送文件。
后面的9个字符每3个一组，均为[rwx]的组合，位置不会变，如果没有权限就是[-]。
文件权限

[r]代表可读，就是读取文件的文字内容。
[w]代表可编辑，新增、修改、删除内容，但是不能删除文件。
 代表可执行，跟扩展名无关，只要有x属性就可以执行。

第一组是文件拥有者的权限，第二组是所属用户组的其他账号的权限，第三组是没有加入用户组的其他账号的权限。
目录权限

[r]代表查看目录里的文件。
[w]代表可以创建新的目录和文件、删除文件或者目录、移动目录里的文件或者目录。
 代表可执行，跟扩展名无关，只要有x属性就可以执行。

修改文件属性和权限
chgrp [-R] groupName dirname/filename修改文件所属用户组，-R表示递归修改，把子目录下的所有文件、目录都改成这个用户组，同时group name需要在/etc/group文件中存在。"><meta name=author content><link rel=canonical href=https://wangxiaohong123.github.io/posts/linux/2.%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://wangxiaohong123.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wangxiaohong123.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wangxiaohong123.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wangxiaohong123.github.io/apple-touch-icon.png><link rel=mask-icon href=https://wangxiaohong123.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wangxiaohong123.github.io/posts/linux/2.%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wangxiaohong123.github.io/posts/linux/2.%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/"><meta property="og:site_name" content="王小红的笔记"><meta property="og:title" content="linux-2.文件和目录管理"><meta property="og:description" content="用户和用户组 Linux是多人多任务系统，可能同时有多人使用服务器，考虑每个人的隐私权限和每个人喜好的工作环境，这样每个用户都可以把自己的文件权限设置成自己可见，就保证了隐私。用户组主要是为了团队协同工作，这样既能保证每个人的隐私，又能实现多人共同维护服务。
用户组就相当于一个家庭，谁都可以在客厅玩、吃饭、看书，用户相当于每个人自己的卧室，需要得到本人的允许才能进入，others就是陌生人，连进到客厅都需要得要允许。
root用户就是天神，所有文件对于他来说都没有权限。
所有的账号信息都在**/etc/passwd文件里，个人的密码在/etc/shadow文件里，所有的组名在/etc/group**文件里。
文件权限 执行ls -al查看文件权限，他的缩写是ll，执行之后可以得到类似下面的内容：
1 2 -rw-r--r-- 1 root root 1879158 4月28 17:17 test.sql # 权限	连接 用户 用户组 文件大小 修改日期 文件名 ls是list的意思。链接就是有多少文件名链接到了这个节点(inode)。文件大小的默认单位是byte。如果文件名前面多个[.]表示隐藏文件。
ls的更多更多用法使用ls –help或者man ls或者info ls查看。
文件类型 常规文件：[-]表示常规文件，按照文件内容可以分成3类： 纯文本文件，纯文本文件的内容我们可以直接看到，比如数字、字母。 二进制文件，linux中可以执行的文件就是二进制文件，不包括脚本，比如他一些命令，就是一个为进制文件。 数据文件，有些程序在运行的时候会读取某些特定格式的文件，比如在用户登录的时候会记录登录数据在/var/log/wtpm里，如果使用cat查看就是乱码，可以使用last命令查看。 目录：就是文件夹。 链接文件：类似windows的快捷方式， 设备和设备文件：和系统周边及存储相关的文件，一般都在/dev下，通常可以分成两类： 区块设备，提供系统随机读写的接口设备，比如硬盘。 字符设备，一些串行端口的接口设备，鼠标键盘这种，这些设备的特点就是一次性读取，不能断，比如说可以让鼠标移动到一个位置，但是不能让鼠标跳到一个位置。 数据接口文件：一般是网络上的数据交换，在/run或者/tmp目录里。 数据输送文件(FIFO,pipe)：他是为了解决多个程序同时写一个文件的问题，FIFO全称是first-in-first-out，就是管道。 可以使用man fifo和man socket查看数据输送文件和数据接口文件的说明。
权限说明 权限栏一共有10个字符，第一个字符表示这个文件是目录、文件还是链接，如果是[d]就表示目录，如果是[-]就表示文件；如果是[l]就表示链接文件；如果是[b]就表示可以存储的周边设备；如果是[c]就表示串行端口设备；[s]表示数据接口文件；[p]表示数据传送文件。
后面的9个字符每3个一组，均为[rwx]的组合，位置不会变，如果没有权限就是[-]。
文件权限 [r]代表可读，就是读取文件的文字内容。 [w]代表可编辑，新增、修改、删除内容，但是不能删除文件。 代表可执行，跟扩展名无关，只要有x属性就可以执行。 第一组是文件拥有者的权限，第二组是所属用户组的其他账号的权限，第三组是没有加入用户组的其他账号的权限。
目录权限 [r]代表查看目录里的文件。 [w]代表可以创建新的目录和文件、删除文件或者目录、移动目录里的文件或者目录。 代表可执行，跟扩展名无关，只要有x属性就可以执行。 修改文件属性和权限 chgrp [-R] groupName dirname/filename修改文件所属用户组，-R表示递归修改，把子目录下的所有文件、目录都改成这个用户组，同时group name需要在/etc/group文件中存在。"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="linux-2.文件和目录管理"><meta name=twitter:description content="用户和用户组
Linux是多人多任务系统，可能同时有多人使用服务器，考虑每个人的隐私权限和每个人喜好的工作环境，这样每个用户都可以把自己的文件权限设置成自己可见，就保证了隐私。用户组主要是为了团队协同工作，这样既能保证每个人的隐私，又能实现多人共同维护服务。
用户组就相当于一个家庭，谁都可以在客厅玩、吃饭、看书，用户相当于每个人自己的卧室，需要得到本人的允许才能进入，others就是陌生人，连进到客厅都需要得要允许。
root用户就是天神，所有文件对于他来说都没有权限。
所有的账号信息都在**/etc/passwd文件里，个人的密码在/etc/shadow文件里，所有的组名在/etc/group**文件里。
文件权限
执行ls -al查看文件权限，他的缩写是ll，执行之后可以得到类似下面的内容：


1
2


-rw-r--r--   1    root root   1879158   4月28 17:17 test.sql
#   权限	   连接  用户  用户组  文件大小     修改日期     文件名


ls是list的意思。链接就是有多少文件名链接到了这个节点(inode)。文件大小的默认单位是byte。如果文件名前面多个[.]表示隐藏文件。
ls的更多更多用法使用ls &ndash;help或者man ls或者info ls查看。
文件类型

常规文件：[-]表示常规文件，按照文件内容可以分成3类：

纯文本文件，纯文本文件的内容我们可以直接看到，比如数字、字母。
二进制文件，linux中可以执行的文件就是二进制文件，不包括脚本，比如他一些命令，就是一个为进制文件。
数据文件，有些程序在运行的时候会读取某些特定格式的文件，比如在用户登录的时候会记录登录数据在/var/log/wtpm里，如果使用cat查看就是乱码，可以使用last命令查看。


目录：就是文件夹。
链接文件：类似windows的快捷方式，
设备和设备文件：和系统周边及存储相关的文件，一般都在/dev下，通常可以分成两类：

区块设备，提供系统随机读写的接口设备，比如硬盘。
字符设备，一些串行端口的接口设备，鼠标键盘这种，这些设备的特点就是一次性读取，不能断，比如说可以让鼠标移动到一个位置，但是不能让鼠标跳到一个位置。


数据接口文件：一般是网络上的数据交换，在/run或者/tmp目录里。
数据输送文件(FIFO,pipe)：他是为了解决多个程序同时写一个文件的问题，FIFO全称是first-in-first-out，就是管道。

可以使用man fifo和man socket查看数据输送文件和数据接口文件的说明。
权限说明
权限栏一共有10个字符，第一个字符表示这个文件是目录、文件还是链接，如果是[d]就表示目录，如果是[-]就表示文件；如果是[l]就表示链接文件；如果是[b]就表示可以存储的周边设备；如果是[c]就表示串行端口设备；[s]表示数据接口文件；[p]表示数据传送文件。
后面的9个字符每3个一组，均为[rwx]的组合，位置不会变，如果没有权限就是[-]。
文件权限

[r]代表可读，就是读取文件的文字内容。
[w]代表可编辑，新增、修改、删除内容，但是不能删除文件。
 代表可执行，跟扩展名无关，只要有x属性就可以执行。

第一组是文件拥有者的权限，第二组是所属用户组的其他账号的权限，第三组是没有加入用户组的其他账号的权限。
目录权限

[r]代表查看目录里的文件。
[w]代表可以创建新的目录和文件、删除文件或者目录、移动目录里的文件或者目录。
 代表可执行，跟扩展名无关，只要有x属性就可以执行。

修改文件属性和权限
chgrp [-R] groupName dirname/filename修改文件所属用户组，-R表示递归修改，把子目录下的所有文件、目录都改成这个用户组，同时group name需要在/etc/group文件中存在。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wangxiaohong123.github.io/posts/"},{"@type":"ListItem","position":2,"name":"linux-2.文件和目录管理","item":"https://wangxiaohong123.github.io/posts/linux/2.%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"linux-2.文件和目录管理","name":"linux-2.文件和目录管理","description":"用户和用户组 Linux是多人多任务系统，可能同时有多人使用服务器，考虑每个人的隐私权限和每个人喜好的工作环境，这样每个用户都可以把自己的文件权限设置成自己可见，就保证了隐私。用户组主要是为了团队协同工作，这样既能保证每个人的隐私，又能实现多人共同维护服务。\n用户组就相当于一个家庭，谁都可以在客厅玩、吃饭、看书，用户相当于每个人自己的卧室，需要得到本人的允许才能进入，others就是陌生人，连进到客厅都需要得要允许。\nroot用户就是天神，所有文件对于他来说都没有权限。\n所有的账号信息都在**/etc/passwd文件里，个人的密码在/etc/shadow文件里，所有的组名在/etc/group**文件里。\n文件权限 执行ls -al查看文件权限，他的缩写是ll，执行之后可以得到类似下面的内容：\n1 2 -rw-r--r-- 1 root root 1879158 4月28 17:17 test.sql # 权限\t连接 用户 用户组 文件大小 修改日期 文件名 ls是list的意思。链接就是有多少文件名链接到了这个节点(inode)。文件大小的默认单位是byte。如果文件名前面多个[.]表示隐藏文件。\nls的更多更多用法使用ls \u0026ndash;help或者man ls或者info ls查看。\n文件类型 常规文件：[-]表示常规文件，按照文件内容可以分成3类： 纯文本文件，纯文本文件的内容我们可以直接看到，比如数字、字母。 二进制文件，linux中可以执行的文件就是二进制文件，不包括脚本，比如他一些命令，就是一个为进制文件。 数据文件，有些程序在运行的时候会读取某些特定格式的文件，比如在用户登录的时候会记录登录数据在/var/log/wtpm里，如果使用cat查看就是乱码，可以使用last命令查看。 目录：就是文件夹。 链接文件：类似windows的快捷方式， 设备和设备文件：和系统周边及存储相关的文件，一般都在/dev下，通常可以分成两类： 区块设备，提供系统随机读写的接口设备，比如硬盘。 字符设备，一些串行端口的接口设备，鼠标键盘这种，这些设备的特点就是一次性读取，不能断，比如说可以让鼠标移动到一个位置，但是不能让鼠标跳到一个位置。 数据接口文件：一般是网络上的数据交换，在/run或者/tmp目录里。 数据输送文件(FIFO,pipe)：他是为了解决多个程序同时写一个文件的问题，FIFO全称是first-in-first-out，就是管道。 可以使用man fifo和man socket查看数据输送文件和数据接口文件的说明。\n权限说明 权限栏一共有10个字符，第一个字符表示这个文件是目录、文件还是链接，如果是[d]就表示目录，如果是[-]就表示文件；如果是[l]就表示链接文件；如果是[b]就表示可以存储的周边设备；如果是[c]就表示串行端口设备；[s]表示数据接口文件；[p]表示数据传送文件。\n后面的9个字符每3个一组，均为[rwx]的组合，位置不会变，如果没有权限就是[-]。\n文件权限 [r]代表可读，就是读取文件的文字内容。 [w]代表可编辑，新增、修改、删除内容，但是不能删除文件。 代表可执行，跟扩展名无关，只要有x属性就可以执行。 第一组是文件拥有者的权限，第二组是所属用户组的其他账号的权限，第三组是没有加入用户组的其他账号的权限。\n目录权限 [r]代表查看目录里的文件。 [w]代表可以创建新的目录和文件、删除文件或者目录、移动目录里的文件或者目录。 代表可执行，跟扩展名无关，只要有x属性就可以执行。 修改文件属性和权限 chgrp [-R] groupName dirname/filename修改文件所属用户组，-R表示递归修改，把子目录下的所有文件、目录都改成这个用户组，同时group name需要在/etc/group文件中存在。\n","keywords":["linux"],"articleBody":"用户和用户组 Linux是多人多任务系统，可能同时有多人使用服务器，考虑每个人的隐私权限和每个人喜好的工作环境，这样每个用户都可以把自己的文件权限设置成自己可见，就保证了隐私。用户组主要是为了团队协同工作，这样既能保证每个人的隐私，又能实现多人共同维护服务。\n用户组就相当于一个家庭，谁都可以在客厅玩、吃饭、看书，用户相当于每个人自己的卧室，需要得到本人的允许才能进入，others就是陌生人，连进到客厅都需要得要允许。\nroot用户就是天神，所有文件对于他来说都没有权限。\n所有的账号信息都在**/etc/passwd文件里，个人的密码在/etc/shadow文件里，所有的组名在/etc/group**文件里。\n文件权限 执行ls -al查看文件权限，他的缩写是ll，执行之后可以得到类似下面的内容：\n1 2 -rw-r--r-- 1 root root 1879158 4月28 17:17 test.sql # 权限\t连接 用户 用户组 文件大小 修改日期 文件名 ls是list的意思。链接就是有多少文件名链接到了这个节点(inode)。文件大小的默认单位是byte。如果文件名前面多个[.]表示隐藏文件。\nls的更多更多用法使用ls –help或者man ls或者info ls查看。\n文件类型 常规文件：[-]表示常规文件，按照文件内容可以分成3类： 纯文本文件，纯文本文件的内容我们可以直接看到，比如数字、字母。 二进制文件，linux中可以执行的文件就是二进制文件，不包括脚本，比如他一些命令，就是一个为进制文件。 数据文件，有些程序在运行的时候会读取某些特定格式的文件，比如在用户登录的时候会记录登录数据在/var/log/wtpm里，如果使用cat查看就是乱码，可以使用last命令查看。 目录：就是文件夹。 链接文件：类似windows的快捷方式， 设备和设备文件：和系统周边及存储相关的文件，一般都在/dev下，通常可以分成两类： 区块设备，提供系统随机读写的接口设备，比如硬盘。 字符设备，一些串行端口的接口设备，鼠标键盘这种，这些设备的特点就是一次性读取，不能断，比如说可以让鼠标移动到一个位置，但是不能让鼠标跳到一个位置。 数据接口文件：一般是网络上的数据交换，在/run或者/tmp目录里。 数据输送文件(FIFO,pipe)：他是为了解决多个程序同时写一个文件的问题，FIFO全称是first-in-first-out，就是管道。 可以使用man fifo和man socket查看数据输送文件和数据接口文件的说明。\n权限说明 权限栏一共有10个字符，第一个字符表示这个文件是目录、文件还是链接，如果是[d]就表示目录，如果是[-]就表示文件；如果是[l]就表示链接文件；如果是[b]就表示可以存储的周边设备；如果是[c]就表示串行端口设备；[s]表示数据接口文件；[p]表示数据传送文件。\n后面的9个字符每3个一组，均为[rwx]的组合，位置不会变，如果没有权限就是[-]。\n文件权限 [r]代表可读，就是读取文件的文字内容。 [w]代表可编辑，新增、修改、删除内容，但是不能删除文件。 代表可执行，跟扩展名无关，只要有x属性就可以执行。 第一组是文件拥有者的权限，第二组是所属用户组的其他账号的权限，第三组是没有加入用户组的其他账号的权限。\n目录权限 [r]代表查看目录里的文件。 [w]代表可以创建新的目录和文件、删除文件或者目录、移动目录里的文件或者目录。 代表可执行，跟扩展名无关，只要有x属性就可以执行。 修改文件属性和权限 chgrp [-R] groupName dirname/filename修改文件所属用户组，-R表示递归修改，把子目录下的所有文件、目录都改成这个用户组，同时group name需要在/etc/group文件中存在。\nchown [-R] 账号[:group name] dirname/filename修改文件所属用户，-R表示递归修改，这个命令如果账号后面还有:组名，会把所属用户组一起修改，冒号换成点也可以。\n一般在复制文件给其他用户的时候会用到这两个命令，因为复制文件会一起复制属性和权限。\nchmod [-R] 文件权限 文件名修改文件权限，他有两种方式，第一种是数字形式，第二种是符号形式：\n数字形式：r、w、x分别对应4、2、1，比如6就是rw，chmod 770 test.sql就是把test.sql的权限设置成[-rwxrwx—]。 符号形式：u、g、o分别代表users、group、others三种身份的权限，每种身份对应的权限设置有+、-、=，比如test.sql的权限设置成[-rwxrwxr–]：chmod ug=rwx,o=r test.sql，把test.sql的group的x权限去掉：chmod g-x test.sql。 目录配置 所有发行版的目录都是差不多的额，因为他们都一句FHS(Filesystem Hierarchy Standard)标准，FHS建议根目录(/)越小越好，且不要再根目录安装东西，可以挂载一个其他分区，因为根目录和系统启动、还原、修复操作相关，根目录单独一个分区系统不容易发生问题，性能也好。\nFHS要求根目录应该有以下子目录，即使没有物理目录也应该有链接目录：\n目录 放置内容 /bin 在单人维护模式下还能使用的命令，/bin下的命令可以被root和一般账号使用，比如cat、chmod、mv等 /boot 存放启动会用到的启动选项文件和启动配置文件，linux内核常用的文件名是vmlinuz /dev 存放设备文件 /etc 所有的配置文件，比如账号密码、服务启动文件，一般这个目录下的文件所有用户都可以查看，但是只有root能够修改，另外这个目录不建议放可执行文件 /lib 存放启动时会用到的函数库，以及/bin和/sbin下面命令会用到的函数库 /media 存放可删除的设备，比如光盘 /mnt 挂载的额外的设备，没有/media的时候他就是/media /opt 给三方软件的目录，我们自己安装的也可以放到这里，但是我习惯放到/usr/local下 /run 系统启动后产生的各项信息，之前是/var/run，改成/run之后性能会更好，因为/run是内存不是磁盘 /sbin 系统启动、修复、还原需要的命令，只有root才能使用，/usr/sbin是服务器自带软件的命令，我们安装的软件产生的命令文件一般在/usr/local/sbin下 /srv 一些网络服务启动之后所需要用到的数据目录，比如html /tmp 临时目录，这个目录所有人都有权限读取，FHS建议启动时把该目录下的文件都删掉 /usr 他是UNIX Software Resource的缩写，里面放的是系统所有的自带软件，CentOS已经把/bin、/sbin和/lib都移到了/usr下，外面只是个链接目录 /var 针对经常变动的文件，比如日志、缓存和一些软件运行产生的文件，比如MySQL的数据。/var/lib放的是软件的数据文件。/vsr/lock是设备锁，一些设备或者文件只能被一个文件使用，需要锁来控制，现在链接到了/run/lock。/var/log是最重要的日志，比如/var/log/messages。/var/run是存放进程的PID，也被链接到了/run下。/var/spool存放一些队列数据，比如crontab计划会被写到/var/spool/cron里，执行完就被删除。 可以看到命令都是在某些目录的bin或者sbin下，他们都是通过环境变量(PATH)的配置实现在任何目录下都可以执行这些命令，在执行命令的时候系统会先根据PATH遍历目录下的文件，找到第一个和命令同名的文件去执行，可以使用echo $PATH打印被PATH定义的目录。\n文件目录管理 1)目录管理常用命令 1.cd .表示当前目录，..表示上一层目录，-表示上一个工作目录，~表示当前账号的家目录，~account表示account这个账号的家目录。\ncd是change directory的缩写，每个账号刚登录默认都是在这个账号的家目录，root的家目录是/root，其他账号的家目录是/home/账号，如果cd后面不跟路径的话就是进入当前账号的家目录。上面的符号比如点或者横线可以直接放在cd后面，比如：\n1 2 3 4 cd /data/stars/web cd /root # 从/root回到/data/stars/web目录中 cd - 2.pwd pwd是print working directory的缩写，显示当前所在目录，pwd -P表示如果是链接目录就显示真正的目录路径。\n3.mkdir 创建目录，mkdir [-mp]，-m表示设置目录的权限，-p表示递归创建不存在的目录，比如mkdir -m 711 -p test2。\n4.rmdir 删除空目录，他也有个-p参数，连同上一层的空目录一起删除。\n2)文件管理常用命令 1.文件列表 ls应该是最常用的命令，如果不加参数就只会显示文件、目录名，不包括隐藏的文件，目录，文件和压缩包等用不同颜色区分。他有非常多的参数可以选择：\n-a：显示隐藏的文件； -A：显示隐藏的文件，不包括.和..； -d：只显示目录； -f：不按照文件名排序； -F：在文件名后面追加文件信息，比如*代表可执行文件，/代表目录，=代表socket文件，|代表FIFO文件； -h：带单位显示文件大小； -i：列出incode码； -l：显示详细信息，包括属性和权限，ls -l的缩写是ll； -r：倒叙输出； -R：递归显示子目录内容； -S：按文件大小排序； -t：按时间排序； –color=never：不加颜色高亮，never可以换成always或者auto； –full-time：输出完整日期 –time={atime,ctime}：输出access时间(读取时间)或者修改权限属性时间，而不是内容修改时间； 2.复制 cp就是copy的缩写，cp除了可以复制文件还可以创建链接文件(快捷方式)、对比两个文件的新旧然后在更新、复制整个目录等等：\n-a：相当于-dr，–preserve=all的意思； -d：如果源文件是链接文件，就复制链接文件的属性，而不是链接文件的指向文件； -f：强制的意思，如果目标文件已经存在并且无法打开就删除在复制； -i：如果目标文件已经存在，先询问是否覆盖； -l：进行硬链接，而不是复制文件本身； -p：把文件属性一起复制过去，没有这个参数会使用默认属性，备份的时候常用； -r：递归复制； -s：复制成快捷方式； -u：目标文件不存在或者比源文件更旧才复制； 3.移动 mv是move的缩写，他除了移动还可以重命名：\n-f：强制移动，直接覆盖； -i：如果文件已存在，询问是否覆盖； -u：如果目标文件已存在，并且源文件比较新才会覆盖； 4.删除 rm是remove的缩写，很多发行版会在这个命令里默认加上-i选项，防止误删：\n-f：强制删除，忽略不存在的文件，不会出现警告信息； -i：删除前询问是否删除； -r：递归删除； 5.basename和dirname basename /root/server/network获取文件名，得到的结果是network。\ndirname /root/server/network获取目录名，得到的结果是 /root/server。\n6.查看文件内容 查看文件内容的命令有很多：\ncat [-AbEnTv]：从第一行开始显示，-A相当于-vET的组合，-b是列出行号，-E是显示换行符，-n比-b多一个空白行的行号，-T把tab键以^I符号显示出来，-v显示特除字符。 tac：tac是cat倒着写，功能也是和cat相反，从最后一行开始显示。 nl [-bnw]：显示内容的时候同时输出行号，他的重点是在行号的显示，3个参数都是跟行号相关的。 more：如果文件行数超过了屏幕就会分页显示，输入空格表示向下翻页，回车下翻一行，/字符串是在显示出来的内容里向下查找，查找的时候按n就是继续查找，:f是显示文件名和当前显示的行数，q是退出，b向前翻页。 less：less比more的功能更多，比如可以直接按pagedown键就是向下翻页，pageup就是向上翻页，?字符串是向前查找字符串，N是反向重复前一个查找，g跳到第一行，G跳到最后一行，好像比more少了个回车。 head [-n number]：输出文件的前几行，number是具体的数字，如果number是负数就表示输出前面所有行数，但是不包括最后100行。 tail [-n number -f]：-n的用法和head是一样的，-f表示文件有写入数据就马上输出到屏幕。 od [-t type]：od是用来查看非文本文件的，比如执行文件或者命令文件，type如果是a表示默认的字符，如果是c就是输出ASCII码，d、o、x分别对应10进制、8进制、16进制。比如od -t oCc /etc/issue意思是以8进制列出文件内容和ASCII的对照表。 7.修改文件时间或创建新文件 每个文件在linux下面都会记录3个时间参数，mtime(修改时间)，只有文件的内容改变的时候才会修改这个时间、ctime(状态时间)，权限和属性被修改的时候会更新这个时间、atime(读取时间)，当文件的内容被读取的时候会去修改这个时间。查看文件时间：\n1 2 3 # atime可以换成ctime或者mtime # ls默认显示mtime ll --time=atime 修改文件时间或者创建文件的命令是touch，他有几个可选参数：\n-a：自定义atime； -c：只修改时间，如果文件不存在不会创建空文件； -d：具体日期，如果没有这个参数会使用当前日期； -m：修改mtime； -t：具体时间，格式[YYYYMMDDhhmm]； 没有参数就是单纯的创建空文件，最有意思的是-d参数，他可以这么写：\n1 2 # atime和ctime都改成2天前 touch -d \"2 days ago\" test.sql 3)文件查找 1.脚本查找 使用which查找命令的完整文件路径，默认找到第一个，如果是which -a就是列出PATH中所有这个名字的命令的位置，但是which不能查找bash内置命令的位置(如果要查看bash内置命令位置要使用type)，比如：\n1 2 3 4 # 找到ifconfig命令的位置 which ifconfig # 因为history是bash内置命令，这个命令会报no history in …… which history 2.文件查找 whereis、locate、find都可以查找文件，但是whereis只在系统特定目录下查找，locate利用数据库查找文件名，find会去硬盘中查找，一般来说都是先用whereis，没找到在用locate，最后在用find。\nwhereis [-bmsu] 文件名或者目录名，如果没有参数就是把所有的文件显示出来：\n-b：只查找2进制格式的文件； -m：只找说明文件manual路径下的文件； -s：只找source源文件； -u：查找不在上面-bms中的其他特殊文件； 另外whereis -l是列出whereis搜索的目录。\nlocate [-iclSr] 文件名：\n-i：忽略大小写； -c：不输出文件名，只显示数量； -l：只输出几行，不全部显示； -S：输出locate使用的数据库信息； -r：后面接正则的显示方式； locate可能会找不到文件，因为他用到的数据是存到/var/lib/mlocate里，这个文件每天更新一次，可以执行updatedb，他会按照硬盘里的文件刷新数据，但是要花几分钟。\nfind [PATH] [option] [action]，这个命令比较强大\n跟时间相关的参数：\n1 2 3 4 5 6 7 8 9 10 11 12 # -atime或者-mtime或者-ctime，下面以-mtime举例 # -mtime n 表示第n天前修改过的文件 # -mtime +n 表示n天前修改过的文件 # -mtime -n 表示n天内修改过的文件 # 0就代表当前时间，意思就是24小时内被修改过的文件 find / -mtime 0 # +0就表示修改过的文件都显示 find / -mtime +0 # 找出/etc下面比/etc/passwd更新的文件 find /etc -newer /etc/passwd 跟用户或者用户组相关的参数：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # n是用户id，可以在/etc/passwd中查找 -uid n # n是groupId，可以在/etc/group中查找 -gid n # name是用户名 -user name # name是group名 -group name # 查找的文件的拥有者不在/etc/passwd中 -nouser # 查找文件的属组不在/etc/group中 -nogroup # 查找根目录下root用户的文件 find / -user root 跟文件名称和权限有关的参数：\n1 2 3 4 5 6 7 8 # 根据文件名查找 -name filename # 找出比SIZE大或者小的文件，SIZE的规格有c：代表bytes，k代表1024bytes，比如找大于50kb的文件就是+50k -size [+-]SIZE # 查找类型是TYPE的文件，TYPE可选：d、l、b、s、p -type TYPE # 查找权限刚好等于mode的文件，如果有-号就是权限大于mode的，/表示包含任意一个权限就列出 -perm [-/]mode 其他命令：\n-exec command：command是其他命令，可以处理查找到的结果，例如：\n1 2 3 4 # 644就是rw-r--r--，只要包含r或者w的就列出 # exec后面跟的命令不支持别名，所以只能写ls -l # {}代表find的内容。因为;在bash中有特殊意义，所以这里用\\来转义 find /usr/bin /usr/sbin -perm /644 -exec ls -l {} \\; ","wordCount":"430","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://wangxiaohong123.github.io/posts/linux/2.%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/"},"publisher":{"@type":"Organization","name":"王小红的笔记","logo":{"@type":"ImageObject","url":"https://wangxiaohong123.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wangxiaohong123.github.io/ accesskey=h title="王小红的笔记 (Alt + H)">王小红的笔记</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wangxiaohong123.github.io/posts/ title=笔记><span>笔记</span></a></li><li><a href=https://wangxiaohong123.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://wangxiaohong123.github.io/categories/ title=分类><span>分类</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">linux-2.文件和目录管理</h1><div class=post-meta>3 min</div></header><div class=post-content><h3 id=用户和用户组>用户和用户组<a hidden class=anchor aria-hidden=true href=#用户和用户组>#</a></h3><p>Linux是多人多任务系统，可能同时有多人使用服务器，考虑每个人的隐私权限和每个人喜好的工作环境，这样每个用户都可以把自己的文件权限设置成自己可见，就保证了隐私。用户组主要是为了团队协同工作，这样既能保证每个人的隐私，又能实现多人共同维护服务。</p><p>用户组就相当于一个家庭，谁都可以在客厅玩、吃饭、看书，用户相当于每个人自己的卧室，需要得到本人的允许才能进入，others就是陌生人，连进到客厅都需要得要允许。</p><p>root用户就是天神，所有文件对于他来说都没有权限。</p><p>所有的账号信息都在**/etc/passwd<strong>文件里，个人的密码在</strong>/etc/shadow<strong>文件里，所有的组名在</strong>/etc/group**文件里。</p><h3 id=文件权限>文件权限<a hidden class=anchor aria-hidden=true href=#文件权限>#</a></h3><p>执行<strong>ls -al</strong>查看文件权限，他的缩写是<strong>ll</strong>，执行之后可以得到类似下面的内容：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>-rw-r--r--   <span style=color:#bd93f9>1</span>    root root   <span style=color:#bd93f9>1879158</span>   4月28 17:17 test.sql
</span></span><span style=display:flex><span><span style=color:#6272a4>#   权限	   连接  用户  用户组  文件大小     修改日期     文件名</span>
</span></span></code></pre></td></tr></table></div></div><p>ls是list的意思。链接就是有多少文件名链接到了这个节点(inode)。文件大小的默认单位是byte。如果文件名前面多个[.]表示隐藏文件。</p><p>ls的更多更多用法使用<strong>ls &ndash;help</strong>或者<strong>man ls</strong>或者<strong>info ls</strong>查看。</p><h5 id=文件类型>文件类型<a hidden class=anchor aria-hidden=true href=#文件类型>#</a></h5><ul><li>常规文件：[-]表示常规文件，按照文件内容可以分成3类：<ol><li>纯文本文件，纯文本文件的内容我们可以直接看到，比如数字、字母。</li><li>二进制文件，linux中可以执行的文件就是二进制文件，不包括脚本，比如他一些命令，就是一个为进制文件。</li><li>数据文件，有些程序在运行的时候会读取某些特定格式的文件，比如在用户登录的时候会记录登录数据在/var/log/wtpm里，如果使用cat查看就是乱码，可以使用last命令查看。</li></ol></li><li>目录：就是文件夹。</li><li>链接文件：类似windows的快捷方式，</li><li>设备和设备文件：和系统周边及存储相关的文件，一般都在/dev下，通常可以分成两类：<ol><li>区块设备，提供系统随机读写的接口设备，比如硬盘。</li><li>字符设备，一些串行端口的接口设备，鼠标键盘这种，这些设备的特点就是一次性读取，不能断，比如说可以让鼠标移动到一个位置，但是不能让鼠标跳到一个位置。</li></ol></li><li>数据接口文件：一般是网络上的数据交换，在/run或者/tmp目录里。</li><li>数据输送文件(FIFO,pipe)：他是为了解决多个程序同时写一个文件的问题，FIFO全称是first-in-first-out，就是管道。</li></ul><p>可以使用man fifo和man socket查看数据输送文件和数据接口文件的说明。</p><h5 id=权限说明>权限说明<a hidden class=anchor aria-hidden=true href=#权限说明>#</a></h5><p>权限栏一共有10个字符，第一个字符表示这个文件是目录、文件还是链接，如果是[d]就表示目录，如果是[-]就表示文件；如果是[l]就表示链接文件；如果是[b]就表示可以存储的周边设备；如果是[c]就表示串行端口设备；[s]表示数据接口文件；[p]表示数据传送文件。</p><p>后面的9个字符每3个一组，均为[rwx]的组合，位置不会变，如果没有权限就是[-]。</p><h6 id=文件权限-1>文件权限<a hidden class=anchor aria-hidden=true href=#文件权限-1>#</a></h6><ul><li>[r]代表可读，就是读取文件的文字内容。</li><li>[w]代表可编辑，新增、修改、删除内容，但是不能删除文件。</li><li><input checked disabled type=checkbox> 代表可执行，跟扩展名无关，只要有x属性就可以执行。</li></ul><p>第一组是文件拥有者的权限，第二组是所属用户组的其他账号的权限，第三组是没有加入用户组的其他账号的权限。</p><h6 id=目录权限>目录权限<a hidden class=anchor aria-hidden=true href=#目录权限>#</a></h6><ul><li>[r]代表查看目录里的文件。</li><li>[w]代表可以创建新的目录和文件、删除文件或者目录、移动目录里的文件或者目录。</li><li><input checked disabled type=checkbox> 代表可执行，跟扩展名无关，只要有x属性就可以执行。</li></ul><h5 id=修改文件属性和权限>修改文件属性和权限<a hidden class=anchor aria-hidden=true href=#修改文件属性和权限>#</a></h5><p><strong>chgrp [-R] groupName dirname/filename</strong>修改文件所属用户组，-R表示递归修改，把子目录下的所有文件、目录都改成这个用户组，同时group name需要在/etc/group文件中存在。</p><p><strong>chown [-R] 账号[:group name] dirname/filename</strong>修改文件所属用户，-R表示递归修改，这个命令如果账号后面还有:组名，会把所属用户组一起修改，冒号换成点也可以。</p><p>一般在复制文件给其他用户的时候会用到这两个命令，因为复制文件会一起复制属性和权限。</p><p><strong>chmod [-R] 文件权限 文件名</strong>修改文件权限，他有两种方式，第一种是数字形式，第二种是符号形式：</p><ul><li>数字形式：r、w、x分别对应4、2、1，比如6就是rw，<strong>chmod 770 test.sql</strong>就是把test.sql的权限设置成[-rwxrwx&mdash;]。</li><li>符号形式：u、g、o分别代表users、group、others三种身份的权限，每种身份对应的权限设置有+、-、=，比如test.sql的权限设置成[-rwxrwxr&ndash;]：<strong>chmod ug=rwx,o=r test.sql</strong>，把test.sql的group的x权限去掉：<strong>chmod g-x test.sql</strong>。</li></ul><h3 id=目录配置>目录配置<a hidden class=anchor aria-hidden=true href=#目录配置>#</a></h3><p>所有发行版的目录都是差不多的额，因为他们都一句FHS(Filesystem Hierarchy Standard)标准，FHS建议根目录(/)越小越好，且不要再根目录安装东西，可以挂载一个其他分区，因为根目录和系统启动、还原、修复操作相关，根目录单独一个分区系统不容易发生问题，性能也好。</p><p>FHS要求根目录应该有以下子目录，即使没有物理目录也应该有链接目录：</p><table><thead><tr><th style=text-align:center>目录</th><th style=text-align:center>放置内容</th></tr></thead><tbody><tr><td style=text-align:center>/bin</td><td style=text-align:center>在单人维护模式下还能使用的命令，/bin下的命令可以被root和一般账号使用，比如cat、chmod、mv等</td></tr><tr><td style=text-align:center>/boot</td><td style=text-align:center>存放启动会用到的启动选项文件和启动配置文件，linux内核常用的文件名是vmlinuz</td></tr><tr><td style=text-align:center>/dev</td><td style=text-align:center>存放设备文件</td></tr><tr><td style=text-align:center>/etc</td><td style=text-align:center>所有的配置文件，比如账号密码、服务启动文件，一般这个目录下的文件所有用户都可以查看，但是只有root能够修改，另外这个目录不建议放可执行文件</td></tr><tr><td style=text-align:center>/lib</td><td style=text-align:center>存放启动时会用到的函数库，以及/bin和/sbin下面命令会用到的函数库</td></tr><tr><td style=text-align:center>/media</td><td style=text-align:center>存放可删除的设备，比如光盘</td></tr><tr><td style=text-align:center>/mnt</td><td style=text-align:center>挂载的额外的设备，没有/media的时候他就是/media</td></tr><tr><td style=text-align:center>/opt</td><td style=text-align:center>给三方软件的目录，我们自己安装的也可以放到这里，但是我习惯放到/usr/local下</td></tr><tr><td style=text-align:center>/run</td><td style=text-align:center>系统启动后产生的各项信息，之前是/var/run，改成/run之后性能会更好，因为/run是内存不是磁盘</td></tr><tr><td style=text-align:center>/sbin</td><td style=text-align:center>系统启动、修复、还原需要的命令，只有root才能使用，/usr/sbin是服务器自带软件的命令，我们安装的软件产生的命令文件一般在/usr/local/sbin下</td></tr><tr><td style=text-align:center>/srv</td><td style=text-align:center>一些网络服务启动之后所需要用到的数据目录，比如html</td></tr><tr><td style=text-align:center>/tmp</td><td style=text-align:center>临时目录，这个目录所有人都有权限读取，FHS建议启动时把该目录下的文件都删掉</td></tr><tr><td style=text-align:center>/usr</td><td style=text-align:center>他是UNIX Software Resource的缩写，里面放的是系统所有的自带软件，CentOS已经把/bin、/sbin和/lib都移到了/usr下，外面只是个链接目录</td></tr><tr><td style=text-align:center>/var</td><td style=text-align:center>针对经常变动的文件，比如日志、缓存和一些软件运行产生的文件，比如MySQL的数据。/var/lib放的是软件的数据文件。/vsr/lock是设备锁，一些设备或者文件只能被一个文件使用，需要锁来控制，现在链接到了/run/lock。/var/log是最重要的日志，比如/var/log/messages。/var/run是存放进程的PID，也被链接到了/run下。/var/spool存放一些队列数据，比如crontab计划会被写到/var/spool/cron里，执行完就被删除。</td></tr></tbody></table><p>可以看到命令都是在某些目录的bin或者sbin下，他们都是通过环境变量(PATH)的配置实现在任何目录下都可以执行这些命令，在执行命令的时候系统会先根据PATH遍历目录下的文件，找到第一个和命令同名的文件去执行，可以使用<strong>echo $PATH</strong>打印被PATH定义的目录。</p><h3 id=文件目录管理>文件目录管理<a hidden class=anchor aria-hidden=true href=#文件目录管理>#</a></h3><h5 id=1目录管理常用命令>1)目录管理常用命令<a hidden class=anchor aria-hidden=true href=#1目录管理常用命令>#</a></h5><h6 id=1cd>1.cd<a hidden class=anchor aria-hidden=true href=#1cd>#</a></h6><p>.表示当前目录，..表示上一层目录，-表示上一个工作目录，~表示当前账号的家目录，~account表示account这个账号的家目录。</p><p>cd是change directory的缩写，每个账号刚登录默认都是在这个账号的家目录，root的家目录是/root，其他账号的家目录是/home/账号，如果cd后面不跟路径的话就是进入当前账号的家目录。上面的符号比如点或者横线可以直接放在cd后面，比如：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>cd</span> /data/stars/web
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>cd</span> /root
</span></span><span style=display:flex><span><span style=color:#6272a4># 从/root回到/data/stars/web目录中</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>cd</span> -
</span></span></code></pre></td></tr></table></div></div><h6 id=2pwd>2.pwd<a hidden class=anchor aria-hidden=true href=#2pwd>#</a></h6><p>pwd是print working directory的缩写，显示当前所在目录，pwd -P表示如果是链接目录就显示真正的目录路径。</p><h6 id=3mkdir>3.mkdir<a hidden class=anchor aria-hidden=true href=#3mkdir>#</a></h6><p>创建目录，<strong>mkdir [-mp]</strong>，-m表示设置目录的权限，-p表示递归创建不存在的目录，比如<strong>mkdir -m 711 -p test2</strong>。</p><h6 id=4rmdir>4.rmdir<a hidden class=anchor aria-hidden=true href=#4rmdir>#</a></h6><p>删除空目录，他也有个-p参数，连同上一层的空目录一起删除。</p><h5 id=2文件管理常用命令>2)文件管理常用命令<a hidden class=anchor aria-hidden=true href=#2文件管理常用命令>#</a></h5><h6 id=1文件列表>1.文件列表<a hidden class=anchor aria-hidden=true href=#1文件列表>#</a></h6><p>ls应该是最常用的命令，如果不加参数就只会显示文件、目录名，不包括隐藏的文件，目录，文件和压缩包等用不同颜色区分。他有非常多的参数可以选择：</p><ul><li>-a：显示隐藏的文件；</li><li>-A：显示隐藏的文件，不包括.和..；</li><li>-d：只显示目录；</li><li>-f：不按照文件名排序；</li><li>-F：在文件名后面追加文件信息，比如*代表可执行文件，/代表目录，=代表socket文件，|代表FIFO文件；</li><li>-h：带单位显示文件大小；</li><li>-i：列出incode码；</li><li>-l：显示详细信息，包括属性和权限，ls -l的缩写是ll；</li><li>-r：倒叙输出；</li><li>-R：递归显示子目录内容；</li><li>-S：按文件大小排序；</li><li>-t：按时间排序；</li><li>&ndash;color=never：不加颜色高亮，never可以换成always或者auto；</li><li>&ndash;full-time：输出完整日期</li><li>&ndash;time={atime,ctime}：输出access时间(读取时间)或者修改权限属性时间，而不是内容修改时间；</li></ul><h6 id=2复制>2.复制<a hidden class=anchor aria-hidden=true href=#2复制>#</a></h6><p>cp就是copy的缩写，cp除了可以复制文件还可以创建链接文件(快捷方式)、对比两个文件的新旧然后在更新、复制整个目录等等：</p><ul><li>-a：相当于-dr，&ndash;preserve=all的意思；</li><li>-d：如果源文件是链接文件，就复制链接文件的属性，而不是链接文件的指向文件；</li><li>-f：强制的意思，如果目标文件已经存在并且无法打开就删除在复制；</li><li>-i：如果目标文件已经存在，先询问是否覆盖；</li><li>-l：进行硬链接，而不是复制文件本身；</li><li>-p：把文件属性一起复制过去，没有这个参数会使用默认属性，备份的时候常用；</li><li>-r：递归复制；</li><li>-s：复制成快捷方式；</li><li>-u：目标文件不存在或者比源文件更旧才复制；</li></ul><h6 id=3移动>3.移动<a hidden class=anchor aria-hidden=true href=#3移动>#</a></h6><p>mv是move的缩写，他除了移动还可以重命名：</p><ul><li>-f：强制移动，直接覆盖；</li><li>-i：如果文件已存在，询问是否覆盖；</li><li>-u：如果目标文件已存在，并且源文件比较新才会覆盖；</li></ul><h6 id=4删除>4.删除<a hidden class=anchor aria-hidden=true href=#4删除>#</a></h6><p>rm是remove的缩写，很多发行版会在这个命令里默认加上-i选项，防止误删：</p><ul><li>-f：强制删除，忽略不存在的文件，不会出现警告信息；</li><li>-i：删除前询问是否删除；</li><li>-r：递归删除；</li></ul><h6 id=5basename和dirname>5.basename和dirname<a hidden class=anchor aria-hidden=true href=#5basename和dirname>#</a></h6><p><strong>basename /root/server/network</strong>获取文件名，得到的结果是network。</p><p><strong>dirname /root/server/network</strong>获取目录名，得到的结果是 /root/server。</p><h6 id=6查看文件内容>6.查看文件内容<a hidden class=anchor aria-hidden=true href=#6查看文件内容>#</a></h6><p>查看文件内容的命令有很多：</p><ul><li>cat [-AbEnTv]：从第一行开始显示，-A相当于-vET的组合，-b是列出行号，-E是显示换行符，-n比-b多一个空白行的行号，-T把tab键以^I符号显示出来，-v显示特除字符。</li><li>tac：tac是cat倒着写，功能也是和cat相反，从最后一行开始显示。</li><li>nl [-bnw]：显示内容的时候同时输出行号，他的重点是在行号的显示，3个参数都是跟行号相关的。</li><li>more：如果文件行数超过了屏幕就会分页显示，输入空格表示向下翻页，回车下翻一行，/字符串是在显示出来的内容里向下查找，查找的时候按n就是继续查找，:f是显示文件名和当前显示的行数，q是退出，b向前翻页。</li><li>less：less比more的功能更多，比如可以直接按pagedown键就是向下翻页，pageup就是向上翻页，?字符串是向前查找字符串，N是反向重复前一个查找，g跳到第一行，G跳到最后一行，好像比more少了个回车。</li><li>head [-n number]：输出文件的前几行，number是具体的数字，如果number是负数就表示输出前面所有行数，但是不包括最后100行。</li><li>tail [-n number -f]：-n的用法和head是一样的，-f表示文件有写入数据就马上输出到屏幕。</li><li>od [-t type]：od是用来查看非文本文件的，比如执行文件或者命令文件，type如果是a表示默认的字符，如果是c就是输出ASCII码，d、o、x分别对应10进制、8进制、16进制。比如<strong>od -t oCc /etc/issue</strong>意思是以8进制列出文件内容和ASCII的对照表。</li></ul><h6 id=7修改文件时间或创建新文件>7.修改文件时间或创建新文件<a hidden class=anchor aria-hidden=true href=#7修改文件时间或创建新文件>#</a></h6><p>每个文件在linux下面都会记录3个时间参数，mtime(修改时间)，只有文件的内容改变的时候才会修改这个时间、ctime(状态时间)，权限和属性被修改的时候会更新这个时间、atime(读取时间)，当文件的内容被读取的时候会去修改这个时间。查看文件时间：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#6272a4># atime可以换成ctime或者mtime</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># ls默认显示mtime</span>
</span></span><span style=display:flex><span>ll --time<span style=color:#ff79c6>=</span>atime
</span></span></code></pre></td></tr></table></div></div><p>修改文件时间或者创建文件的命令是touch，他有几个可选参数：</p><ul><li>-a：自定义atime；</li><li>-c：只修改时间，如果文件不存在不会创建空文件；</li><li>-d：具体日期，如果没有这个参数会使用当前日期；</li><li>-m：修改mtime；</li><li>-t：具体时间，格式[YYYYMMDDhhmm]；</li></ul><p>没有参数就是单纯的创建空文件，最有意思的是-d参数，他可以这么写：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#6272a4># atime和ctime都改成2天前</span>
</span></span><span style=display:flex><span>touch -d <span style=color:#f1fa8c>&#34;2 days ago&#34;</span> test.sql
</span></span></code></pre></td></tr></table></div></div><h5 id=3文件查找>3)文件查找<a hidden class=anchor aria-hidden=true href=#3文件查找>#</a></h5><h6 id=1脚本查找>1.脚本查找<a hidden class=anchor aria-hidden=true href=#1脚本查找>#</a></h6><p>使用which查找命令的完整文件路径，默认找到第一个，如果是which -a就是列出PATH中所有这个名字的命令的位置，但是which不能查找bash内置命令的位置(如果要查看bash内置命令位置要使用type)，比如：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># 找到ifconfig命令的位置</span>
</span></span><span style=display:flex><span>which ifconfig
</span></span><span style=display:flex><span><span style=color:#6272a4># 因为history是bash内置命令，这个命令会报no history in ……</span>
</span></span><span style=display:flex><span>which <span style=color:#8be9fd;font-style:italic>history</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=2文件查找>2.文件查找<a hidden class=anchor aria-hidden=true href=#2文件查找>#</a></h6><p>whereis、locate、find都可以查找文件，但是whereis只在系统特定目录下查找，locate利用数据库查找文件名，find会去硬盘中查找，一般来说都是先用whereis，没找到在用locate，最后在用find。</p><hr><p>whereis [-bmsu] 文件名或者目录名，如果没有参数就是把所有的文件显示出来：</p><ul><li>-b：只查找2进制格式的文件；</li><li>-m：只找说明文件manual路径下的文件；</li><li>-s：只找source源文件；</li><li>-u：查找不在上面-bms中的其他特殊文件；</li></ul><p>另外<strong>whereis -l</strong>是列出whereis搜索的目录。</p><hr><p>locate [-iclSr] 文件名：</p><ul><li>-i：忽略大小写；</li><li>-c：不输出文件名，只显示数量；</li><li>-l：只输出几行，不全部显示；</li><li>-S：输出locate使用的数据库信息；</li><li>-r：后面接正则的显示方式；</li></ul><p>locate可能会找不到文件，因为他用到的数据是存到/var/lib/mlocate里，这个文件每天更新一次，可以执行updatedb，他会按照硬盘里的文件刷新数据，但是要花几分钟。</p><hr><p>find [PATH] [option] [action]，这个命令比较强大</p><p>跟时间相关的参数：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># -atime或者-mtime或者-ctime，下面以-mtime举例</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># -mtime n 表示第n天前修改过的文件</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># -mtime +n 表示n天前修改过的文件</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># -mtime -n 表示n天内修改过的文件</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 0就代表当前时间，意思就是24小时内被修改过的文件</span>
</span></span><span style=display:flex><span>find / -mtime <span style=color:#bd93f9>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># +0就表示修改过的文件都显示</span>
</span></span><span style=display:flex><span>find / -mtime +0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 找出/etc下面比/etc/passwd更新的文件</span>
</span></span><span style=display:flex><span>find /etc -newer /etc/passwd
</span></span></code></pre></td></tr></table></div></div><p>跟用户或者用户组相关的参数：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># n是用户id，可以在/etc/passwd中查找</span>
</span></span><span style=display:flex><span>-uid n
</span></span><span style=display:flex><span><span style=color:#6272a4># n是groupId，可以在/etc/group中查找</span>
</span></span><span style=display:flex><span>-gid n
</span></span><span style=display:flex><span><span style=color:#6272a4># name是用户名</span>
</span></span><span style=display:flex><span>-user name
</span></span><span style=display:flex><span><span style=color:#6272a4># name是group名</span>
</span></span><span style=display:flex><span>-group name
</span></span><span style=display:flex><span><span style=color:#6272a4># 查找的文件的拥有者不在/etc/passwd中</span>
</span></span><span style=display:flex><span>-nouser
</span></span><span style=display:flex><span><span style=color:#6272a4># 查找文件的属组不在/etc/group中</span>
</span></span><span style=display:flex><span>-nogroup
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 查找根目录下root用户的文件</span>
</span></span><span style=display:flex><span>find / -user root
</span></span></code></pre></td></tr></table></div></div><p>跟文件名称和权限有关的参数：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># 根据文件名查找</span>
</span></span><span style=display:flex><span>-name filename
</span></span><span style=display:flex><span><span style=color:#6272a4># 找出比SIZE大或者小的文件，SIZE的规格有c：代表bytes，k代表1024bytes，比如找大于50kb的文件就是+50k</span>
</span></span><span style=display:flex><span>-size <span style=color:#ff79c6>[</span>+-<span style=color:#ff79c6>]</span>SIZE
</span></span><span style=display:flex><span><span style=color:#6272a4># 查找类型是TYPE的文件，TYPE可选：d、l、b、s、p</span>
</span></span><span style=display:flex><span>-type TYPE
</span></span><span style=display:flex><span><span style=color:#6272a4># 查找权限刚好等于mode的文件，如果有-号就是权限大于mode的，/表示包含任意一个权限就列出</span>
</span></span><span style=display:flex><span>-perm <span style=color:#ff79c6>[</span>-/<span style=color:#ff79c6>]</span>mode
</span></span></code></pre></td></tr></table></div></div><p>其他命令：</p><p>-exec command：command是其他命令，可以处理查找到的结果，例如：</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># 644就是rw-r--r--，只要包含r或者w的就列出</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># exec后面跟的命令不支持别名，所以只能写ls -l</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># {}代表find的内容。因为;在bash中有特殊意义，所以这里用\来转义</span>
</span></span><span style=display:flex><span>find /usr/bin /usr/sbin -perm /644 -exec ls -l <span style=color:#ff79c6>{}</span> <span style=color:#f1fa8c>\;</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://wangxiaohong123.github.io/tags/linux/>Linux</a></li></ul><nav class=paginav><a class=prev href=https://wangxiaohong123.github.io/posts/linux/1.%E7%AE%80%E4%BB%8B/><span class=title>« Prev</span><br><span>linux-1.简介</span>
</a><a class=next href=https://wangxiaohong123.github.io/posts/linux/3.%E7%A3%81%E7%9B%98%E5%92%8C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/><span class=title>Next »</span><br><span>linux-3.磁盘和文件系统</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share linux-2.文件和目录管理 on x" href="https://x.com/intent/tweet/?text=linux-2.%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86&amp;url=https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f&amp;hashtags=linux"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share linux-2.文件和目录管理 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f&amp;title=linux-2.%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86&amp;summary=linux-2.%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86&amp;source=https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share linux-2.文件和目录管理 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f&title=linux-2.%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share linux-2.文件和目录管理 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share linux-2.文件和目录管理 on whatsapp" href="https://api.whatsapp.com/send?text=linux-2.%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86%20-%20https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share linux-2.文件和目录管理 on telegram" href="https://telegram.me/share/url?text=linux-2.%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86&amp;url=https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share linux-2.文件和目录管理 on ycombinator" href="https://news.ycombinator.com/submitlink?t=linux-2.%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86&u=https%3a%2f%2fwangxiaohong123.github.io%2fposts%2flinux%2f2.%25E6%2596%2587%25E4%25BB%25B6%25E5%2592%258C%25E7%259B%25AE%25E5%25BD%2595%25E7%25AE%25A1%25E7%2590%2586%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://wangxiaohong123.github.io/>王小红的笔记</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>